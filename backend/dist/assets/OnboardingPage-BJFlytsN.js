import{c as u,o as x,u as p,r as h,b,j as e,A as f,S as g,y as j,V as n,C as N}from"./index-DxtlJbeM.js";import{M as v}from"./map-pin-D8pTakeu.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],C=u("shuffle",y),L=()=>{const{authUser:s}=x(),r=p(),[l,t]=h.useState({fullName:(s==null?void 0:s.fullName)||"",bio:(s==null?void 0:s.bio)||"",nativeLanguage:(s==null?void 0:s.nativeLanguage)||"",location:(s==null?void 0:s.location)||"",profilePic:(s==null?void 0:s.profilePic)||""}),{mutate:c,isPending:i}=b({mutationFn:N,onSuccess:()=>{n.success("Profile onboarded successfully"),r.invalidateQueries({queryKey:["authUser"]})},onError:a=>{n.error(a.response.data.message)}}),o=a=>{a.preventDefault(),c(l)},d=()=>{const m=`https://avatar.iran.liara.run/public/${Math.floor(Math.random()*100)+1}.png`;t({...l,profilePic:m}),n.success("Random profile picture generated!")};return e.jsx("div",{className:"min-h-screen bg-base-100 flex items-center justify-center p-4",children:e.jsx("div",{className:"card bg-base-200 w-full max-w-3xl shadow-xl",children:e.jsxs("div",{className:"card-body p-6 sm:p-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-center mb-6",children:"Complete Your Profile"}),e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"size-32 rounded-full bg-base-300 overflow-hidden",children:l.profilePic?e.jsx("img",{src:l.profilePic,alt:"Profile Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(CameraIcon,{className:"size-12 text-base-content opacity-40"})})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{type:"button",onClick:d,className:"btn btn-accent",children:[e.jsx(C,{className:"size-4 mr-2"}),"Generate Random Avatar"]})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Full Name"})}),e.jsx("input",{type:"text",name:"fullName",value:l.fullName,onChange:a=>t({...l,fullName:a.target.value}),className:"input input-bordered w-full",placeholder:"Your full name"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Bio"})}),e.jsx("textarea",{name:"bio",value:l.bio,onChange:a=>t({...l,bio:a.target.value}),className:"textarea textarea-bordered h-24",placeholder:"Tell others about yourself and your language learning goals"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Native Language"})}),e.jsxs("select",{name:"nativeLanguage",value:l.nativeLanguage,onChange:a=>t({...l,nativeLanguage:a.target.value}),className:"select select-bordered w-full",children:[e.jsx("option",{value:"",children:"Select your native language"}),f.map(a=>e.jsx("option",{value:a.toLowerCase(),children:a},`native-${a}`))]})]})}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Location"})}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute top-1/2 transform -translate-y-1/2 left-3 size-5 text-base-content opacity-70"}),e.jsx("input",{type:"text",name:"location",value:l.location,onChange:a=>t({...l,location:a.target.value}),className:"input input-bordered w-full pl-10",placeholder:"City, Country"})]})]}),e.jsx("button",{className:"btn btn-primary w-full",disabled:i,type:"submit",children:i?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"animate-spin size-5 mr-2"}),"Onboarding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"size-5 mr-2"}),"Complete Onboarding"]})})]})]})})})};export{L as default};
